<div class="title-container text-center">
    <h2 mat-dialog-title>Edit a Product</h2>
</div>

<mat-dialog-content>
    <form [formGroup]="editProductForm">
        <div class="imgUpload">
            <label class="form-label">Cover Image</label>
            <div class="file-drop-area" (click)="fileInput.click()">
                <span *ngIf="!previewUrl" class="drop-text">Drag & drop a file or click to browse</span>
                <input
                    type="file"
                    (change)="onFileSelect($event)"
                    #fileInput
                    formControlName="image"
                    hidden/>
            </div>
        </div>
        <div class="card imagePreview" *ngIf="previewUrl">
            <div class="card-body">
                <img [src]="previewUrl" alt="Preview" class="preview-image">
            </div>
        </div>

        <div>
          <label class="form-label">Category</label>
          <select formControlName="category_id" class="form-select">
            <option *ngFor="let item of categoriesData" [value]="item.id">
              {{item.name}}
            </option>
          </select>
        </div>

        <div>
            <label class="form-label">ISBN</label>
            <input formControlName="isbn" class="form-control" (input)="onInputChange($event)"
            (keypress)="onKeyPress($event)">
        </div>
        <div>
            <label class="form-label">Title</label>
            <input formControlName="title" class="form-control">
        </div>
        <div>
            <label class="form-label">Author</label>
            <input formControlName="author" class="form-control">
        </div>
        <div>
            <label class="form-label">Year Of Publication</label>
            <input formControlName="published_year" class="form-control" oninput="this.value = this.value.replace(/[^0-9]/g, '')">
        </div>
        <div>
            <label class="form-label">Description</label>
            <input formControlName="description" class="form-control">
        </div>
        <div>
          <label for="" class="form-label">Stock</label>
          <input formControlName="quantity" class="form-control" oninput="this.value = this.value.replace(/[^0-9]/g, '')">
        </div>
        <div>
            <label class="form-label">Price</label>
            <input formControlName="price" class="form-control" (input)="onInputChange($event)"
            (keypress)="onKeyPress($event)">
        </div>
        <mat-dialog-actions align="end">
            <button class="btn btn-danger" mat-dialog-close>Close</button>
            <button class="btn btn-success"  [disabled]="!editProductForm.valid" (click)="editProduct()">Edit</button>
        </mat-dialog-actions>
    </form>

</mat-dialog-content>
